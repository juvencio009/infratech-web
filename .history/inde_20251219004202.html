<!doctype html>
<html lang="pt" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>QuizMaster | Desafie seu Conhecimento</title><!-- Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet"><!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800;900&amp;display=swap" rel="stylesheet">
  <style>
    body {
      box-sizing: border-box;
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    html, body {
      height: 100%;
      width: 100%;
    }
    
    body {
      font-family: 'Montserrat', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: #1f2937;
      overflow-x: hidden;
    }
    
    .main-wrapper {
      width: 100%;
      min-height: 100%;
      display: flex;
      flex-direction: column;
      overflow-y: auto;
    }
    
    /* ===============================
       HEADER
    ================================ */
    header {
      background: rgba(255, 255, 255, 0.98);
      backdrop-filter: blur(10px);
      padding: 1rem 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      position: sticky;
      top: 0;
      z-index: 100;
    }
    
    .logo-container {
      display: flex;
      flex-direction: column;
      cursor: pointer;
      transition: transform 0.3s ease;
    }
    
    .logo-container:hover {
      transform: scale(1.05);
    }
    
    .logo {
      font-size: 1.75rem;
      font-weight: 900;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    .slogan {
      font-size: 0.75rem;
      color: #6b7280;
      font-weight: 500;
    }
    
    .header-actions {
      display: flex;
      align-items: center;
      gap: 1.5rem;
    }
    
    .header-actions button {
      background: linear-gradient(135deg, #10b981 0%, #059669 100%);
      color: white;
      border: none;
      padding: 0.625rem 1.5rem;
      border-radius: 8px;
      font-weight: 700;
      font-size: 0.9rem;
      cursor: pointer;
      box-shadow: 0 4px 6px -1px rgba(16, 185, 129, 0.3);
      transition: all 0.3s ease;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    
    .header-actions button:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 15px -3px rgba(16, 185, 129, 0.4);
    }
    
    .stats-btn {
      background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%) !important;
      box-shadow: 0 4px 6px -1px rgba(245, 158, 11, 0.3) !important;
    }
    
    .stats-btn:hover {
      box-shadow: 0 10px 15px -3px rgba(245, 158, 11, 0.4) !important;
    }
    
    /* ===============================
       HERO SECTION
    ================================ */
    .hero {
      text-align: center;
      padding: 4rem 2rem 3rem;
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      margin: 2rem auto;
      max-width: 1000px;
      border-radius: 24px;
      box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
      position: relative;
      overflow: hidden;
    }
    
    .hero::before {
      content: '';
      position: absolute;
      top: -50%;
      right: -20%;
      width: 400px;
      height: 400px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 50%;
      z-index: 0;
    }
    
    .hero-content {
      position: relative;
      z-index: 1;
    }
    
    .hero h1 {
      font-size: 3.5rem;
      font-weight: 900;
      color: white;
      margin-bottom: 1rem;
      line-height: 1.1;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }
    
    .hero h2 {
      font-size: 1.5rem;
      font-weight: 600;
      color: rgba(255, 255, 255, 0.95);
      margin-bottom: 2rem;
      line-height: 1.5;
    }
    
    .cta-button {
      background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
      color: white;
      border: none;
      padding: 1rem 3rem;
      border-radius: 12px;
      font-weight: 800;
      font-size: 1.1rem;
      cursor: pointer;
      box-shadow: 0 10px 20px -5px rgba(245, 158, 11, 0.5);
      transition: all 0.3s ease;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    
    .cta-button:hover {
      transform: translateY(-4px);
      box-shadow: 0 15px 30px -5px rgba(245, 158, 11, 0.6);
    }
    
    /* ===============================
       FILTROS
    ================================ */
    .filters {
      max-width: 1400px;
      margin: 2rem auto;
      padding: 0 2rem;
    }
    
    .filters h3 {
      color: white;
      font-size: 1.25rem;
      font-weight: 700;
      margin-bottom: 1rem;
      text-align: center;
    }
    
    .filter-buttons {
      display: flex;
      justify-content: center;
      gap: 1rem;
      flex-wrap: wrap;
    }
    
    .filter-btn {
      background: rgba(255, 255, 255, 0.9);
      color: #4b5563;
      border: 2px solid transparent;
      padding: 0.75rem 1.5rem;
      border-radius: 12px;
      font-weight: 700;
      font-size: 0.95rem;
      cursor: pointer;
      transition: all 0.3s ease;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    
    .filter-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 15px -3px rgba(0, 0, 0, 0.2);
    }
    
    .filter-btn.active {
      background: white;
      border-color: #10b981;
      color: #10b981;
      box-shadow: 0 8px 15px -3px rgba(16, 185, 129, 0.3);
    }
    
    /* ===============================
       GRID DE DISCIPLINAS
    ================================ */
    .disciplines-section {
      max-width: 1400px;
      margin: 0 auto;
      padding: 3rem 2rem;
    }
    
    .section-title {
      color: white;
      font-size: 2rem;
      font-weight: 800;
      margin-bottom: 2rem;
      text-align: center;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    
    .disciplines-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
    }
    
    .discipline-card {
      background: white;
      border-radius: 20px;
      padding: 2.5rem 2rem;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 10px 20px -5px rgba(0, 0, 0, 0.15);
      position: relative;
      overflow: hidden;
    }
    
    .discipline-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 6px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      transform: scaleX(0);
      transition: transform 0.3s ease;
    }
    
    .discipline-card:hover::before {
      transform: scaleX(1);
    }
    
    .discipline-card:hover {
      transform: translateY(-10px) scale(1.02);
      box-shadow: 0 20px 40px -10px rgba(0, 0, 0, 0.25);
    }
    
    .discipline-icon {
      width: 80px;
      height: 80px;
      margin: 0 auto 1.5rem;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2.5rem;
      color: white;
      box-shadow: 0 8px 16px -4px rgba(102, 126, 234, 0.4);
    }
    
    .discipline-card h3 {
      font-size: 1.75rem;
      font-weight: 800;
      color: #1f2937;
      margin-bottom: 0.5rem;
    }
    
    .discipline-card p {
      color: #6b7280;
      font-size: 0.95rem;
      margin-bottom: 1.5rem;
      font-weight: 500;
    }
    
    .level-badges {
      display: flex;
      justify-content: center;
      gap: 0.5rem;
      flex-wrap: wrap;
    }
    
    .badge {
      padding: 0.4rem 0.8rem;
      border-radius: 8px;
      font-size: 0.75rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    
    .badge-facil {
      background: #d1fae5;
      color: #065f46;
    }
    
    .badge-medio {
      background: #fed7aa;
      color: #92400e;
    }
    
    .badge-dificil {
      background: #fecaca;
      color: #991b1b;
    }
    
    /* ===============================
       MODAL QUIZ
    ================================ */
    .modal-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      z-index: 200;
      align-items: center;
      justify-content: center;
      padding: 1rem;
    }
    
    .modal-overlay.active {
      display: flex;
    }
    
    .modal-content {
      background: white;
      border-radius: 24px;
      max-width: 800px;
      width: 100%;
      max-height: 90%;
      overflow-y: auto;
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
      animation: slideIn 0.3s ease;
    }
    
    @keyframes slideIn {
      from {
        transform: translateY(-50px);
        opacity: 0;
      }
      to {
        transform: translateY(0);
        opacity: 1;
      }
    }
    
    .modal-header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      padding: 2rem;
      border-radius: 24px 24px 0 0;
      color: white;
      position: relative;
    }
    
    .close-modal {
      position: absolute;
      top: 1rem;
      right: 1rem;
      background: rgba(255, 255, 255, 0.2);
      border: none;
      color: white;
      font-size: 1.5rem;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
    }
    
    .close-modal:hover {
      background: rgba(255, 255, 255, 0.3);
      transform: rotate(90deg);
    }
    
    .quiz-progress {
      display: flex;
      justify-content: space-between;
      margin-top: 1rem;
      font-size: 0.9rem;
      font-weight: 600;
    }
    
    .progress-bar {
      width: 100%;
      height: 8px;
      background: rgba(255, 255, 255, 0.3);
      border-radius: 4px;
      margin-top: 0.5rem;
      overflow: hidden;
    }
    
    .progress-fill {
      height: 100%;
      background: white;
      border-radius: 4px;
      transition: width 0.3s ease;
    }
    
    .modal-body {
      padding: 2.5rem;
    }
    
    .question-container h2 {
      font-size: 1.5rem;
      font-weight: 700;
      color: #1f2937;
      margin-bottom: 2rem;
      line-height: 1.5;
    }
    
    .options-container {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }
    
    .option-btn {
      background: #f3f4f6;
      border: 3px solid transparent;
      padding: 1.25rem 1.5rem;
      border-radius: 12px;
      font-size: 1rem;
      font-weight: 600;
      color: #374151;
      cursor: pointer;
      transition: all 0.3s ease;
      text-align: left;
    }
    
    .option-btn:hover {
      background: #e5e7eb;
      transform: translateX(8px);
      border-color: #667eea;
    }
    
    .option-btn.selected {
      background: #dbeafe;
      border-color: #3b82f6;
      color: #1e40af;
    }
    
    .option-btn.correct {
      background: #d1fae5;
      border-color: #10b981;
      color: #065f46;
    }
    
    .option-btn.incorrect {
      background: #fee2e2;
      border-color: #ef4444;
      color: #991b1b;
    }
    
    .option-btn:disabled {
      cursor: not-allowed;
      opacity: 0.7;
    }
    
    .feedback-container {
      margin-top: 1.5rem;
      padding: 1.5rem;
      border-radius: 12px;
      font-weight: 600;
      display: none;
    }
    
    .feedback-container.show {
      display: block;
      animation: fadeIn 0.3s ease;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .feedback-container.correct {
      background: #d1fae5;
      color: #065f46;
    }
    
    .feedback-container.incorrect {
      background: #fee2e2;
      color: #991b1b;
    }
    
    .next-btn {
      margin-top: 2rem;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      padding: 1rem 2.5rem;
      border-radius: 12px;
      font-weight: 700;
      font-size: 1rem;
      cursor: pointer;
      width: 100%;
      transition: all 0.3s ease;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    
    .next-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 20px -5px rgba(102, 126, 234, 0.4);
    }
    
    .next-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    
    /* ===============================
       RESULTADOS
    ================================ */
    .results-container {
      text-align: center;
      display: none;
    }
    
    .results-container.show {
      display: block;
    }
    
    .score-circle {
      width: 200px;
      height: 200px;
      margin: 2rem auto;
      border-radius: 50%;
      background: linear-gradient(135deg, #10b981 0%, #059669 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      color: white;
      box-shadow: 0 20px 40px -10px rgba(16, 185, 129, 0.5);
    }
    
    .score-number {
      font-size: 4rem;
      font-weight: 900;
      line-height: 1;
    }
    
    .score-label {
      font-size: 1rem;
      font-weight: 600;
      margin-top: 0.5rem;
    }
    
    .results-message {
      font-size: 1.75rem;
      font-weight: 800;
      color: #1f2937;
      margin: 2rem 0 1rem;
    }
    
    .results-details {
      color: #6b7280;
      font-size: 1.1rem;
      margin-bottom: 2rem;
      font-weight: 600;
    }
    
    .results-actions {
      display: flex;
      gap: 1rem;
      justify-content: center;
      flex-wrap: wrap;
    }
    
    .action-btn {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      padding: 0.875rem 2rem;
      border-radius: 12px;
      font-weight: 700;
      font-size: 0.95rem;
      cursor: pointer;
      transition: all 0.3s ease;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    
    .action-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 20px -5px rgba(102, 126, 234, 0.4);
    }
    
    .action-btn.secondary {
      background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
    }
    
    /* ===============================
       ESTAT√çSTICAS
    ================================ */
    .stats-container {
      display: none;
      padding: 2rem;
    }
    
    .stats-container.show {
      display: block;
    }
    
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;
      margin-bottom: 2rem;
    }
    
    .stat-card {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      padding: 2rem;
      border-radius: 16px;
      color: white;
      text-align: center;
      box-shadow: 0 10px 20px -5px rgba(102, 126, 234, 0.3);
    }
    
    .stat-value {
      font-size: 3rem;
      font-weight: 900;
      line-height: 1;
      margin-bottom: 0.5rem;
    }
    
    .stat-label {
      font-size: 0.9rem;
      font-weight: 600;
      opacity: 0.9;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    
    .history-list {
      background: #f9fafb;
      border-radius: 16px;
      padding: 1.5rem;
      max-height: 400px;
      overflow-y: auto;
    }
    
    .history-item {
      background: white;
      padding: 1.25rem;
      border-radius: 12px;
      margin-bottom: 1rem;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .history-info {
      flex: 1;
    }
    
    .history-discipline {
      font-weight: 700;
      color: #1f2937;
      font-size: 1.1rem;
      margin-bottom: 0.25rem;
    }
    
    .history-details {
      color: #6b7280;
      font-size: 0.85rem;
      font-weight: 500;
    }
    
    .history-score {
      font-size: 2rem;
      font-weight: 900;
      color: #10b981;
    }
    
    .empty-state {
      text-align: center;
      padding: 3rem;
      color: #6b7280;
    }
    
    .empty-state i {
      font-size: 4rem;
      margin-bottom: 1rem;
      opacity: 0.5;
    }
    
    /* ===============================
       LOADING
    ================================ */
    .loading-spinner {
      display: none;
      text-align: center;
      padding: 2rem;
    }
    
    .loading-spinner.show {
      display: block;
    }
    
    .spinner {
      width: 50px;
      height: 50px;
      margin: 0 auto;
      border: 4px solid #e5e7eb;
      border-top-color: #667eea;
      border-radius: 50%;
      animation: spin 0.8s linear infinite;
    }
    
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    /* ===============================
       RESPONSIVE
    ================================ */
    @media (max-width: 768px) {
      header {
        flex-direction: column;
        gap: 1rem;
        padding: 1rem;
      }
      
      .header-actions {
        flex-wrap: wrap;
        justify-content: center;
        gap: 0.75rem;
      }
      
      .hero h1 {
        font-size: 2rem;
      }
      
      .hero h2 {
        font-size: 1.1rem;
      }
      
      .cta-button {
        padding: 0.875rem 2rem;
        font-size: 1rem;
      }
      
      .disciplines-grid {
        grid-template-columns: 1fr;
      }
      
      .modal-body {
        padding: 1.5rem;
      }
      
      .results-actions {
        flex-direction: column;
      }
      
      .action-btn {
        width: 100%;
      }
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body>
  <div class="main-wrapper"><!-- HEADER -->
   <header>
    <div class="logo-container" onclick="location.reload()">
     <div class="logo" id="site-title">
      QuizMaster
     </div>
     <div class="slogan" id="site-slogan">
      Desafie seu conhecimento
     </div>
    </div>
    <nav class="header-actions"><button onclick="showStats()" class="stats-btn"> <i class="bi bi-graph-up"></i> Estat√≠sticas </button> <button onclick="scrollToQuizzes()"> <i class="bi bi-play-fill"></i> Come√ßar </button>
    </nav>
   </header><!-- HERO -->
   <section class="hero">
    <div class="hero-content">
     <h1 id="hero-title">Desafie seu conhecimento e prepare-se para o futuro!</h1>
     <h2 id="hero-subtitle">Teste suas habilidades em diversas disciplinas com quizzes envolventes e divertidos</h2><button class="cta-button" id="cta-button" onclick="scrollToQuizzes()">Come√ßar Agora</button>
    </div>
   </section><!-- FILTROS -->
   <section class="filters">
    <h3>Escolha o N√≠vel de Dificuldade</h3>
    <div class="filter-buttons"><button class="filter-btn active" data-level="todos" onclick="filterByLevel('todos')"> Todos </button> <button class="filter-btn" data-level="facil" onclick="filterByLevel('facil')"> üòä F√°cil </button> <button class="filter-btn" data-level="medio" onclick="filterByLevel('medio')"> ü§î M√©dio </button> <button class="filter-btn" data-level="dificil" onclick="filterByLevel('dificil')"> üî• Dif√≠cil </button>
    </div>
   </section><!-- DISCIPLINAS -->
   <section class="disciplines-section" id="quizzes-section">
    <h2 class="section-title">Escolha sua Disciplina</h2>
    <div class="disciplines-grid" id="disciplines-grid"><!-- Cards ser√£o inseridos aqui via JavaScript -->
    </div>
   </section><!-- MODAL QUIZ -->
   <div class="modal-overlay" id="quiz-modal">
    <div class="modal-content">
     <div class="modal-header"><button class="close-modal" onclick="closeQuiz()"> <i class="bi bi-x"></i> </button>
      <h2 id="modal-title">Matem√°tica - N√≠vel F√°cil</h2>
      <div class="quiz-progress"><span id="question-counter">Quest√£o 1 de 10</span> <span id="timer">‚è±Ô∏è 00:00</span>
      </div>
      <div class="progress-bar">
       <div class="progress-fill" id="progress-fill"></div>
      </div>
     </div>
     <div class="modal-body"><!-- QUIZ -->
      <div class="question-container" id="question-container">
       <h2 id="question-text"></h2>
       <div class="options-container" id="options-container"><!-- Op√ß√µes ser√£o inseridas aqui -->
       </div>
       <div class="feedback-container" id="feedback"></div><button class="next-btn" id="next-btn" onclick="nextQuestion()" disabled> Pr√≥xima Quest√£o </button>
      </div><!-- RESULTADOS -->
      <div class="results-container" id="results-container">
       <div class="score-circle">
        <div class="score-number" id="final-score">
         0
        </div>
        <div class="score-label">
         PONTOS
        </div>
       </div>
       <h2 class="results-message" id="results-message"></h2>
       <p class="results-details" id="results-details"></p>
       <div class="results-actions"><button class="action-btn" onclick="restartQuiz()"> <i class="bi bi-arrow-repeat"></i> Tentar Novamente </button> <button class="action-btn secondary" onclick="closeQuiz()"> <i class="bi bi-grid-fill"></i> Outras Disciplinas </button>
       </div>
      </div><!-- LOADING -->
      <div class="loading-spinner" id="loading-spinner">
       <div class="spinner"></div>
       <p style="margin-top: 1rem; color: #6b7280; font-weight: 600;">Carregando...</p>
      </div>
     </div>
    </div>
   </div><!-- MODAL ESTAT√çSTICAS -->
   <div class="modal-overlay" id="stats-modal">
    <div class="modal-content">
     <div class="modal-header"><button class="close-modal" onclick="closeStats()"> <i class="bi bi-x"></i> </button>
      <h2>Suas Estat√≠sticas</h2>
     </div>
     <div class="stats-container show">
      <div class="stats-grid" id="stats-grid"><!-- Stats cards aqui -->
      </div>
      <h3 style="color: #1f2937; font-weight: 700; margin-bottom: 1rem;">Hist√≥rico de Quizzes</h3>
      <div class="history-list" id="history-list"><!-- Hist√≥rico aqui -->
      </div>
     </div>
    </div>
   </div>
  </div>
  <script>
    // ===============================
    // DADOS DAS DISCIPLINAS
    // ===============================
    const disciplinas = [
      {
        id: 'matematica',
        nome: 'Matem√°tica',
        descricao: '√Ålgebra, geometria e c√°lculo',
        icon: 'üìê',
        niveis: ['facil', 'medio', 'dificil']
      },
      {
        id: 'fisica',
        nome: 'F√≠sica',
        descricao: 'Mec√¢nica, termodin√¢mica e √≥ptica',
        icon: '‚ö°',
        niveis: ['facil', 'medio', 'dificil']
      },
      {
        id: 'quimica',
        nome: 'Qu√≠mica',
        descricao: 'Org√¢nica, inorg√¢nica e f√≠sico-qu√≠mica',
        icon: 'üß™',
        niveis: ['facil', 'medio', 'dificil']
      },
      {
        id: 'biologia',
        nome: 'Biologia',
        descricao: 'C√©lulas, gen√©tica e ecologia',
        icon: 'üß¨',
        niveis: ['facil', 'medio', 'dificil']
      },
      {
        id: 'historia',
        nome: 'Hist√≥ria',
        descricao: 'Hist√≥ria mundial e do Brasil',
        icon: 'üìö',
        niveis: ['facil', 'medio', 'dificil']
      },
      {
        id: 'portugues',
        nome: 'Portugu√™s',
        descricao: 'Gram√°tica e interpreta√ß√£o',
        icon: 'üìñ',
        niveis: ['facil', 'medio', 'dificil']
      },
      {
        id: 'ingles',
        nome: 'Ingl√™s',
        descricao: 'Reading e grammar',
        icon: 'üåç',
        niveis: ['facil', 'medio', 'dificil']
      },
      {
        id: 'geografia',
        nome: 'Geografia',
        descricao: 'F√≠sica, humana e pol√≠tica',
        icon: 'üó∫Ô∏è',
        niveis: ['facil', 'medio', 'dificil']
      }
    ];

    // ===============================
    // BANCO DE QUEST√ïES
    // ===============================
    const questoesPorDisciplina = {
      matematica: {
        facil: [
          { pergunta: 'Quanto √© 15 + 27?', opcoes: ['40', '42', '45', '48'], correta: 1, explicacao: 'A soma de 15 + 27 resulta em 42.' },
          { pergunta: 'Qual √© o dobro de 25?', opcoes: ['45', '50', '55', '60'], correta: 1, explicacao: 'O dobro de 25 √© 25 √ó 2 = 50.' },
          { pergunta: 'Quanto √© 100 - 37?', opcoes: ['53', '63', '73', '83'], correta: 1, explicacao: '100 - 37 = 63.' },
          { pergunta: 'Qual √© a metade de 80?', opcoes: ['30', '35', '40', '45'], correta: 2, explicacao: 'A metade de 80 √© 80 √∑ 2 = 40.' },
          { pergunta: 'Quanto √© 12 √ó 5?', opcoes: ['50', '55', '60', '65'], correta: 2, explicacao: '12 √ó 5 = 60.' },
          { pergunta: 'Quanto √© 144 √∑ 12?', opcoes: ['10', '11', '12', '13'], correta: 2, explicacao: '144 √∑ 12 = 12.' },
          { pergunta: 'Qual √© o triplo de 9?', opcoes: ['24', '27', '30', '33'], correta: 1, explicacao: 'O triplo de 9 √© 9 √ó 3 = 27.' },
          { pergunta: 'Quanto √© 8 √ó 8?', opcoes: ['56', '60', '64', '68'], correta: 2, explicacao: '8 √ó 8 = 64.' },
          { pergunta: 'Quanto √© 75 + 25?', opcoes: ['90', '95', '100', '105'], correta: 2, explicacao: '75 + 25 = 100.' },
          { pergunta: 'Qual √© um quarto de 100?', opcoes: ['20', '25', '30', '35'], correta: 1, explicacao: 'Um quarto de 100 √© 100 √∑ 4 = 25.' }
        ],
        medio: [
          { pergunta: 'Qual √© a raiz quadrada de 144?', opcoes: ['10', '11', '12', '13'], correta: 2, explicacao: '‚àö144 = 12, pois 12 √ó 12 = 144.' },
          { pergunta: 'Quanto √© 15% de 200?', opcoes: ['25', '30', '35', '40'], correta: 1, explicacao: '15% de 200 = 0,15 √ó 200 = 30.' },
          { pergunta: 'Resolva: 2x + 5 = 15. Qual √© o valor de x?', opcoes: ['3', '4', '5', '6'], correta: 2, explicacao: '2x = 10, ent√£o x = 5.' },
          { pergunta: 'Qual √© o per√≠metro de um quadrado com lado 7 cm?', opcoes: ['21 cm', '24 cm', '28 cm', '35 cm'], correta: 2, explicacao: 'Per√≠metro = 4 √ó lado = 4 √ó 7 = 28 cm.' },
          { pergunta: 'Quanto √© 3¬≤ + 4¬≤?', opcoes: ['20', '23', '25', '27'], correta: 2, explicacao: '3¬≤ + 4¬≤ = 9 + 16 = 25.' },
          { pergunta: 'Qual √© a √°rea de um ret√¢ngulo 8 √ó 5?', opcoes: ['35', '40', '45', '50'], correta: 1, explicacao: '√Årea = base √ó altura = 8 √ó 5 = 40.' },
          { pergunta: 'Quanto √© 20% de 150?', opcoes: ['25', '30', '35', '40'], correta: 1, explicacao: '20% de 150 = 0,20 √ó 150 = 30.' },
          { pergunta: 'Resolva: 3x - 7 = 14. Qual √© x?', opcoes: ['5', '6', '7', '8'], correta: 2, explicacao: '3x = 21, ent√£o x = 7.' },
          { pergunta: 'Qual √© a m√©dia de 10, 20 e 30?', opcoes: ['15', '18', '20', '22'], correta: 2, explicacao: 'M√©dia = (10+20+30)/3 = 60/3 = 20.' },
          { pergunta: 'Quanto √© 5¬≥?', opcoes: ['100', '115', '125', '135'], correta: 2, explicacao: '5¬≥ = 5 √ó 5 √ó 5 = 125.' }
        ],
        dificil: [
          { pergunta: 'Resolva: log‚ÇÇ(32) = ?', opcoes: ['4', '5', '6', '7'], correta: 1, explicacao: 'log‚ÇÇ(32) = 5, pois 2‚Åµ = 32.' },
          { pergunta: 'Qual √© a derivada de f(x) = x¬≤?', opcoes: ['x', '2x', 'x¬≤', '2x¬≤'], correta: 1, explicacao: 'A derivada de x¬≤ √© 2x.' },
          { pergunta: 'Quanto √© ‚à´x dx de 0 a 2?', opcoes: ['1', '2', '3', '4'], correta: 1, explicacao: '‚à´x dx = x¬≤/2, ent√£o de 0 a 2: 4/2 - 0 = 2.' },
          { pergunta: 'Qual √© o valor de sen(90¬∞)?', opcoes: ['0', '0.5', '1', '‚àö2/2'], correta: 2, explicacao: 'sen(90¬∞) = 1.' },
          { pergunta: 'Resolva: x¬≤ - 5x + 6 = 0. Qual √© a soma das ra√≠zes?', opcoes: ['3', '4', '5', '6'], correta: 2, explicacao: 'Pela f√≥rmula de Bhaskara, as ra√≠zes s√£o 2 e 3. Soma = 5.' },
          { pergunta: 'Qual √© o valor de e (n√∫mero de Euler) aproximado?', opcoes: ['2.5', '2.7', '3.1', '3.5'], correta: 1, explicacao: 'e ‚âà 2,718..., aproximadamente 2.7.' },
          { pergunta: 'Quanto √© cos(0¬∞)?', opcoes: ['0', '0.5', '1', '-1'], correta: 2, explicacao: 'cos(0¬∞) = 1.' },
          { pergunta: 'Qual √© a f√≥rmula de Bhaskara?', opcoes: ['x = -b/2a', 'x = (-b¬±‚àöŒî)/2a', 'x = b¬≤-4ac', 'x = a+b'], correta: 1, explicacao: 'A f√≥rmula de Bhaskara √© x = (-b¬±‚àöŒî)/2a.' },
          { pergunta: 'Quanto √© 10!/(8!√ó2!)?', opcoes: ['40', '45', '50', '55'], correta: 1, explicacao: '10!/(8!√ó2!) = (10√ó9)/(2√ó1) = 45.' },
          { pergunta: 'Qual √© o limite de (x¬≤-1)/(x-1) quando x‚Üí1?', opcoes: ['0', '1', '2', '‚àû'], correta: 2, explicacao: 'Simplificando: (x-1)(x+1)/(x-1) = x+1. Quando x‚Üí1, limite = 2.' }
        ]
      },
      fisica: {
        facil: [
          { pergunta: 'Qual √© a unidade de for√ßa no SI?', opcoes: ['Joule', 'Newton', 'Watt', 'Pascal'], correta: 1, explicacao: 'A unidade de for√ßa √© o Newton (N).' },
          { pergunta: 'Quanto vale a acelera√ß√£o da gravidade na Terra?', opcoes: ['8 m/s¬≤', '9.8 m/s¬≤', '10 m/s¬≤', '12 m/s¬≤'], correta: 1, explicacao: 'A acelera√ß√£o da gravidade √© aproximadamente 9.8 m/s¬≤.' },
          { pergunta: 'Qual √© a velocidade da luz no v√°cuo?', opcoes: ['300.000 km/s', '150.000 km/s', '450.000 km/s', '600.000 km/s'], correta: 0, explicacao: 'A velocidade da luz √© aproximadamente 300.000 km/s.' },
          { pergunta: 'O que √© energia cin√©tica?', opcoes: ['Energia de movimento', 'Energia t√©rmica', 'Energia qu√≠mica', 'Energia nuclear'], correta: 0, explicacao: 'Energia cin√©tica √© a energia associada ao movimento.' },
          { pergunta: 'Qual lei afirma que "a toda a√ß√£o corresponde uma rea√ß√£o"?', opcoes: ['1¬™ Lei de Newton', '2¬™ Lei de Newton', '3¬™ Lei de Newton', 'Lei de Hooke'], correta: 2, explicacao: 'A 3¬™ Lei de Newton estabelece a√ß√£o e rea√ß√£o.' },
          { pergunta: 'Qual √© a unidade de energia?', opcoes: ['Newton', 'Joule', 'Watt', 'Pascal'], correta: 1, explicacao: 'A unidade de energia √© o Joule (J).' },
          { pergunta: 'O que acontece com um corpo em movimento retil√≠neo uniforme?', opcoes: ['Acelera', 'Desacelera', 'Mant√©m velocidade constante', 'Para'], correta: 2, explicacao: 'Em MRU, a velocidade √© constante.' },
          { pergunta: 'Qual √© a f√≥rmula da velocidade?', opcoes: ['v = d/t', 'v = m√óa', 'v = F√ód', 'v = m/t'], correta: 0, explicacao: 'Velocidade = dist√¢ncia/tempo (v = d/t).' },
          { pergunta: 'O que √© um isolante t√©rmico?', opcoes: ['Material que conduz calor', 'Material que bloqueia calor', 'Material que gera calor', 'Material que absorve luz'], correta: 1, explicacao: 'Isolante t√©rmico dificulta a passagem de calor.' },
          { pergunta: 'Qual √© o estado da mat√©ria com volume e forma definidos?', opcoes: ['Gasoso', 'L√≠quido', 'S√≥lido', 'Plasma'], correta: 2, explicacao: 'O estado s√≥lido tem volume e forma definidos.' }
        ],
        medio: [
          { pergunta: 'Qual √© a 2¬™ Lei de Newton?', opcoes: ['F = m√óa', 'E = m√óc¬≤', 'P = m√óv', 'W = F√ód'], correta: 0, explicacao: 'A 2¬™ Lei de Newton √© F = m√óa (for√ßa = massa √ó acelera√ß√£o).' },
          { pergunta: 'Quanto trabalho √© realizado por uma for√ßa de 10N em 5m?', opcoes: ['50 J', '25 J', '15 J', '5 J'], correta: 0, explicacao: 'Trabalho = For√ßa √ó dist√¢ncia = 10 √ó 5 = 50 J.' },
          { pergunta: 'Qual √© a f√≥rmula da energia cin√©tica?', opcoes: ['E = m√óg√óh', 'E = ¬Ω√óm√óv¬≤', 'E = F√ód', 'E = m√óc¬≤'], correta: 1, explicacao: 'Energia cin√©tica = ¬Ω√ómassa√óvelocidade¬≤.' },
          { pergunta: 'O que √© press√£o?', opcoes: ['For√ßa por √°rea', 'For√ßa por tempo', 'Massa por volume', 'Energia por tempo'], correta: 0, explicacao: 'Press√£o = For√ßa/√Årea.' },
          { pergunta: 'Qual lei explica a flutua√ß√£o dos corpos?', opcoes: ['Lei de Newton', 'Lei de Hooke', 'Princ√≠pio de Arquimedes', 'Lei de Ohm'], correta: 2, explicacao: 'O Princ√≠pio de Arquimedes explica a flutua√ß√£o.' },
          { pergunta: 'Quanto vale 1 kWh em joules?', opcoes: ['3.6 MJ', '360 MJ', '3600 kJ', '36 MJ'], correta: 0, explicacao: '1 kWh = 3.6 √ó 10‚Å∂ J = 3.6 MJ.' },
          { pergunta: 'Qual √© a unidade de pot√™ncia?', opcoes: ['Joule', 'Newton', 'Watt', 'Pascal'], correta: 2, explicacao: 'A unidade de pot√™ncia √© o Watt (W).' },
          { pergunta: 'O que √© momento linear?', opcoes: ['m√óv', 'm√óa', 'F√ót', 'E/t'], correta: 0, explicacao: 'Momento linear = massa √ó velocidade (p = m√óv).' },
          { pergunta: 'Qual √© a frequ√™ncia de uma onda com per√≠odo 0.5s?', opcoes: ['1 Hz', '2 Hz', '0.5 Hz', '4 Hz'], correta: 1, explicacao: 'Frequ√™ncia = 1/per√≠odo = 1/0.5 = 2 Hz.' },
          { pergunta: 'O que mede um term√¥metro?', opcoes: ['Press√£o', 'Temperatura', 'Velocidade', 'For√ßa'], correta: 1, explicacao: 'O term√¥metro mede temperatura.' }
        ],
        dificil: [
          { pergunta: 'Qual √© a f√≥rmula de Einstein para energia?', opcoes: ['E = m√óc¬≤', 'E = ¬Ω√óm√óv¬≤', 'E = h√óf', 'E = F√ód'], correta: 0, explicacao: 'A equa√ß√£o de Einstein √© E = m√óc¬≤ (energia = massa √ó velocidade da luz ao quadrado).' },
          { pergunta: 'O que √© o Princ√≠pio da Incerteza de Heisenberg?', opcoes: ['Imposs√≠vel medir posi√ß√£o e momento simultaneamente', 'Energia √© conservada', 'Luz √© onda e part√≠cula', 'Tempo √© relativo'], correta: 0, explicacao: 'O Princ√≠pio da Incerteza afirma que n√£o podemos medir posi√ß√£o e momento com precis√£o absoluta simultaneamente.' },
          { pergunta: 'Qual √© a constante de Planck aproximadamente?', opcoes: ['6.63 √ó 10‚Åª¬≥‚Å¥ J¬∑s', '3 √ó 10‚Å∏ m/s', '9.8 m/s¬≤', '6.02 √ó 10¬≤¬≥'], correta: 0, explicacao: 'A constante de Planck √© h ‚âà 6.63 √ó 10‚Åª¬≥‚Å¥ J¬∑s.' },
          { pergunta: 'O que descreve a equa√ß√£o de Schr√∂dinger?', opcoes: ['Movimento de part√≠culas cl√°ssicas', 'Fun√ß√£o de onda qu√¢ntica', 'Campos eletromagn√©ticos', 'Conserva√ß√£o de energia'], correta: 1, explicacao: 'A equa√ß√£o de Schr√∂dinger descreve a fun√ß√£o de onda de sistemas qu√¢nticos.' },
          { pergunta: 'Qual √© a rela√ß√£o entre comprimento de onda e frequ√™ncia?', opcoes: ['Œª = c/f', 'Œª = f/c', 'Œª = c√óf', 'Œª = f¬≤/c'], correta: 0, explicacao: 'Comprimento de onda = velocidade/frequ√™ncia (Œª = c/f).' },
          { pergunta: 'O que √© entropia?', opcoes: ['Medida de desordem', 'Medida de energia', 'Medida de for√ßa', 'Medida de velocidade'], correta: 0, explicacao: 'Entropia √© uma medida da desordem de um sistema.' },
          { pergunta: 'Qual part√≠cula medeia a for√ßa eletromagn√©tica?', opcoes: ['Gl√∫on', 'F√≥ton', 'B√≥son W', 'Gr√°viton'], correta: 1, explicacao: 'O f√≥ton √© a part√≠cula mediadora da for√ßa eletromagn√©tica.' },
          { pergunta: 'O que afirma a Teoria da Relatividade Especial?', opcoes: ['Tempo e espa√ßo s√£o relativos', 'Gravidade √© uma for√ßa', 'Energia se conserva', 'Luz tem massa'], correta: 0, explicacao: 'A Relatividade Especial afirma que tempo e espa√ßo s√£o relativos ao observador.' },
          { pergunta: 'Qual √© o n√∫mero de Avogadro?', opcoes: ['6.02 √ó 10¬≤¬≥', '3 √ó 10‚Å∏', '9.8', '6.63 √ó 10‚Åª¬≥‚Å¥'], correta: 0, explicacao: 'O n√∫mero de Avogadro √© aproximadamente 6.02 √ó 10¬≤¬≥ mol‚Åª¬π.' },
          { pergunta: 'O que √© um buraco negro?', opcoes: ['Regi√£o com gravidade extrema', 'Estrela fria', 'Planeta sem luz', 'Gal√°xia distante'], correta: 0, explicacao: 'Buraco negro √© uma regi√£o com gravidade t√£o intensa que nem a luz escapa.' }
        ]
      },
      quimica: {
        facil: [
          { pergunta: 'Qual √© o s√≠mbolo qu√≠mico da √°gua?', opcoes: ['H‚ÇÇO', 'CO‚ÇÇ', 'O‚ÇÇ', 'NaCl'], correta: 0, explicacao: 'A √°gua √© representada por H‚ÇÇO (2 hidrog√™nios e 1 oxig√™nio).' },
          { pergunta: 'Quantos pr√≥tons tem o √°tomo de carbono?', opcoes: ['4', '6', '8', '12'], correta: 1, explicacao: 'O carbono tem n√∫mero at√¥mico 6, portanto 6 pr√≥tons.' },
          { pergunta: 'Qual √© o pH da √°gua pura?', opcoes: ['5', '7', '9', '11'], correta: 1, explicacao: 'A √°gua pura tem pH neutro = 7.' },
          { pergunta: 'O que √© uma rea√ß√£o exot√©rmica?', opcoes: ['Libera calor', 'Absorve calor', 'N√£o envolve calor', 'Muda de cor'], correta: 0, explicacao: 'Rea√ß√£o exot√©rmica libera calor para o ambiente.' },
          { pergunta: 'Qual elemento tem s√≠mbolo Au?', opcoes: ['Prata', 'Ouro', 'Alum√≠nio', 'Ars√™nio'], correta: 1, explicacao: 'Au √© o s√≠mbolo do ouro (do latim "aurum").' },
          { pergunta: 'Quantos el√©trons tem um √°tomo neutro de oxig√™nio?', opcoes: ['6', '8', '10', '12'], correta: 1, explicacao: 'O oxig√™nio tem n√∫mero at√¥mico 8, portanto 8 el√©trons em estado neutro.' },
          { pergunta: 'O que √© um √°cido?', opcoes: ['Subst√¢ncia que libera H‚Å∫', 'Subst√¢ncia que libera OH‚Åª', 'Subst√¢ncia neutra', 'Subst√¢ncia s√≥lida'], correta: 0, explicacao: '√Åcido √© uma subst√¢ncia que libera √≠ons H‚Å∫ em solu√ß√£o.' },
          { pergunta: 'Qual √© o g√°s mais abundante na atmosfera?', opcoes: ['Oxig√™nio', 'Nitrog√™nio', 'CO‚ÇÇ', 'Arg√¥nio'], correta: 1, explicacao: 'O nitrog√™nio (N‚ÇÇ) representa cerca de 78% da atmosfera.' },
          { pergunta: 'O que √© uma liga√ß√£o i√¥nica?', opcoes: ['Transfer√™ncia de el√©trons', 'Compartilhamento de el√©trons', 'Atra√ß√£o nuclear', 'For√ßa magn√©tica'], correta: 0, explicacao: 'Liga√ß√£o i√¥nica ocorre por transfer√™ncia de el√©trons entre √°tomos.' },
          { pergunta: 'Qual √© o n√∫mero at√¥mico do hidrog√™nio?', opcoes: ['1', '2', '3', '4'], correta: 0, explicacao: 'O hidrog√™nio √© o primeiro elemento, com n√∫mero at√¥mico 1.' }
        ],
        medio: [
          { pergunta: 'Qual √© a massa molar do CO‚ÇÇ?', opcoes: ['28 g/mol', '32 g/mol', '44 g/mol', '48 g/mol'], correta: 2, explicacao: 'CO‚ÇÇ: C(12) + O‚ÇÇ(32) = 44 g/mol.' },
          { pergunta: 'Quantos mols h√° em 22.4L de g√°s nas CNTP?', opcoes: ['0.5', '1', '2', '4'], correta: 1, explicacao: 'Nas CNTP, 1 mol de g√°s ocupa 22.4L.' },
          { pergunta: 'O que √© eletronegatividade?', opcoes: ['Tend√™ncia de atrair el√©trons', 'N√∫mero de el√©trons', 'Carga do √°tomo', 'Massa at√¥mica'], correta: 0, explicacao: 'Eletronegatividade √© a capacidade de um √°tomo atrair el√©trons em uma liga√ß√£o.' },
          { pergunta: 'Qual √© a f√≥rmula do √°cido sulf√∫rico?', opcoes: ['HCl', 'HNO‚ÇÉ', 'H‚ÇÇSO‚ÇÑ', 'H‚ÇÉPO‚ÇÑ'], correta: 2, explicacao: 'O √°cido sulf√∫rico tem f√≥rmula H‚ÇÇSO‚ÇÑ.' },
          { pergunta: 'O que √© uma base de Arrhenius?', opcoes: ['Libera H‚Å∫', 'Libera OH‚Åª', 'Aceita pr√≥tons', 'Doa el√©trons'], correta: 1, explicacao: 'Base de Arrhenius libera √≠ons OH‚Åª em solu√ß√£o aquosa.' },
          { pergunta: 'Qual √© a configura√ß√£o eletr√¥nica do s√≥dio (Na)?', opcoes: ['1s¬≤ 2s¬≤ 2p‚Å∂ 3s¬π', '1s¬≤ 2s¬≤ 2p‚Å∂', '1s¬≤ 2s¬≤ 2p‚Åµ', '1s¬≤ 2s¬π'], correta: 0, explicacao: 'S√≥dio (11 el√©trons): 1s¬≤ 2s¬≤ 2p‚Å∂ 3s¬π.' },
          { pergunta: 'O que √© uma rea√ß√£o de neutraliza√ß√£o?', opcoes: ['√Åcido + base', 'Metal + oxig√™nio', 'Sal + √°gua', 'G√°s + s√≥lido'], correta: 0, explicacao: 'Neutraliza√ß√£o √© a rea√ß√£o entre um √°cido e uma base.' },
          { pergunta: 'Qual √© o principal g√°s do efeito estufa?', opcoes: ['O‚ÇÇ', 'N‚ÇÇ', 'CO‚ÇÇ', 'H‚ÇÇ'], correta: 2, explicacao: 'O CO‚ÇÇ (di√≥xido de carbono) √© o principal g√°s do efeito estufa.' },
          { pergunta: 'O que indica o n√∫mero de oxida√ß√£o?', opcoes: ['Carga real ou aparente', 'N√∫mero de pr√≥tons', 'Massa do √°tomo', 'Velocidade de rea√ß√£o'], correta: 0, explicacao: 'N√∫mero de oxida√ß√£o indica a carga real ou aparente de um √°tomo.' },
          { pergunta: 'Qual √© a constante de Avogadro?', opcoes: ['6.02 √ó 10¬≤¬≥', '3 √ó 10‚Å∏', '1.6 √ó 10‚Åª¬π‚Åπ', '9.8'], correta: 0, explicacao: 'A constante de Avogadro √© 6.02 √ó 10¬≤¬≥ mol‚Åª¬π.' }
        ],
        dificil: [
          { pergunta: 'Qual √© a equa√ß√£o de Nernst?', opcoes: ['E = E‚Å∞ - (RT/nF)lnQ', 'PV = nRT', 'ŒîG = ŒîH - TŒîS', 'pH = -log[H‚Å∫]'], correta: 0, explicacao: 'A equa√ß√£o de Nernst relaciona potencial de eletrodo com concentra√ß√£o: E = E‚Å∞ - (RT/nF)lnQ.' },
          { pergunta: 'O que √© entalpia?', opcoes: ['Conte√∫do de calor', 'Desordem do sistema', 'Energia livre', 'Velocidade de rea√ß√£o'], correta: 0, explicacao: 'Entalpia (H) √© o conte√∫do total de calor de um sistema.' },
          { pergunta: 'Qual √© a teoria de Lewis sobre √°cidos e bases?', opcoes: ['√Åcido aceita par de el√©trons', '√Åcido doa pr√≥tons', 'Base libera OH‚Åª', 'Base aceita el√©trons'], correta: 0, explicacao: 'Na teoria de Lewis, √°cido √© um aceptor de par de el√©trons.' },
          { pergunta: 'O que descreve a Lei de Hess?', opcoes: ['Conserva√ß√£o de entalpia', 'Velocidade de rea√ß√£o', 'Equil√≠brio qu√≠mico', 'Press√£o de gases'], correta: 0, explicacao: 'A Lei de Hess afirma que a varia√ß√£o de entalpia √© independente do caminho.' },
          { pergunta: 'Qual √© a hibridiza√ß√£o do carbono no CH‚ÇÑ?', opcoes: ['sp', 'sp¬≤', 'sp¬≥', 'sp¬≥d'], correta: 2, explicacao: 'No metano (CH‚ÇÑ), o carbono tem hibridiza√ß√£o sp¬≥.' },
          { pergunta: 'O que √© energia de ioniza√ß√£o?', opcoes: ['Energia para remover el√©tron', 'Energia para adicionar el√©tron', 'Energia de liga√ß√£o', 'Energia t√©rmica'], correta: 0, explicacao: 'Energia de ioniza√ß√£o √© a energia necess√°ria para remover um el√©tron.' },
          { pergunta: 'Qual √© a constante dos gases ideais (R)?', opcoes: ['8.314 J/(mol¬∑K)', '6.02 √ó 10¬≤¬≥', '1.6 √ó 10‚Åª¬π‚Åπ', '9.8'], correta: 0, explicacao: 'A constante R = 8.314 J/(mol¬∑K).' },
          { pergunta: 'O que √© uma rea√ß√£o redox?', opcoes: ['Transfer√™ncia de el√©trons', 'Transfer√™ncia de pr√≥tons', 'Mudan√ßa de estado', 'Dissolu√ß√£o'], correta: 0, explicacao: 'Rea√ß√£o redox envolve transfer√™ncia de el√©trons (oxida√ß√£o e redu√ß√£o).' },
          { pergunta: 'Qual √© o princ√≠pio de Le Chatelier?', opcoes: ['Sistema reage a perturba√ß√µes', 'Energia se conserva', 'Massa se conserva', 'Velocidade aumenta com temperatura'], correta: 0, explicacao: 'O princ√≠pio de Le Chatelier: um sistema em equil√≠brio reage a perturba√ß√µes para restaurar o equil√≠brio.' },
          { pergunta: 'O que s√£o is√¥meros?', opcoes: ['Mesma f√≥rmula, estrutura diferente', 'Mesma massa', 'Mesmo n√∫mero at√¥mico', 'Mesma carga'], correta: 0, explicacao: 'Is√¥meros t√™m a mesma f√≥rmula molecular mas estruturas diferentes.' }
        ]
      }
      // Adicione mais disciplinas seguindo o mesmo padr√£o
    };

    // ===============================
    // VARI√ÅVEIS GLOBAIS
    // ===============================
    let currentFilter = 'todos';
    let currentQuiz = null;
    let currentQuestionIndex = 0;
    let score = 0;
    let selectedAnswer = null;
    let quizStartTime = null;
    let timerInterval = null;
    let allResults = [];

    // ===============================
    // DATA SDK
    // ===============================
    const dataHandler = {
      onDataChanged(data) {
        allResults = data;
        updateStatsDisplay();
      }
    };

    async function initDataSdk() {
      if (window.dataSdk) {
        const result = await window.dataSdk.init(dataHandler);
        if (!result.isOk) {
          console.error('Erro ao inicializar Data SDK');
        }
      }
    }

    // ===============================
    // ELEMENT SDK
    // ===============================
    const defaultConfig = {
      site_title: "QuizMaster",
      site_slogan: "Desafie seu conhecimento",
      hero_title: "Desafie seu conhecimento e prepare-se para o futuro!",
      hero_subtitle: "Teste suas habilidades em diversas disciplinas com quizzes envolventes e divertidos",
      cta_button: "Come√ßar Agora",
      background_gradient_start: "#667eea",
      background_gradient_end: "#764ba2",
      primary_color: "#10b981",
      secondary_color: "#f59e0b",
      card_background: "#ffffff"
    };

    async function onConfigChange(config) {
      document.getElementById('site-title').textContent = config.site_title || defaultConfig.site_title;
      document.getElementById('site-slogan').textContent = config.site_slogan || defaultConfig.site_slogan;
      document.getElementById('hero-title').textContent = config.hero_title || defaultConfig.hero_title;
      document.getElementById('hero-subtitle').textContent = config.hero_subtitle || defaultConfig.hero_subtitle;
      document.getElementById('cta-button').textContent = config.cta_button || defaultConfig.cta_button;
      
      const bgStart = config.background_gradient_start || defaultConfig.background_gradient_start;
      const bgEnd = config.background_gradient_end || defaultConfig.background_gradient_end;
      document.body.style.background = `linear-gradient(135deg, ${bgStart} 0%, ${bgEnd} 100%)`;
    }

    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities: (config) => ({
          recolorables: [
            {
              get: () => config.background_gradient_start || defaultConfig.background_gradient_start,
              set: (value) => {
                config.background_gradient_start = value;
                window.elementSdk.setConfig({ background_gradient_start: value });
              }
            },
            {
              get: () => config.background_gradient_end || defaultConfig.background_gradient_end,
              set: (value) => {
                config.background_gradient_end = value;
                window.elementSdk.setConfig({ background_gradient_end: value });
              }
            },
            {
              get: () => config.primary_color || defaultConfig.primary_color,
              set: (value) => {
                config.primary_color = value;
                window.elementSdk.setConfig({ primary_color: value });
              }
            },
            {
              get: () => config.secondary_color || defaultConfig.secondary_color,
              set: (value) => {
                config.secondary_color = value;
                window.elementSdk.setConfig({ secondary_color: value });
              }
            },
            {
              get: () => config.card_background || defaultConfig.card_background,
              set: (value) => {
                config.card_background = value;
                window.elementSdk.setConfig({ card_background: value });
              }
            }
          ],
          borderables: [],
          fontEditable: undefined,
          fontSizeable: undefined
        }),
        mapToEditPanelValues: (config) => new Map([
          ["site_title", config.site_title || defaultConfig.site_title],
          ["site_slogan", config.site_slogan || defaultConfig.site_slogan],
          ["hero_title", config.hero_title || defaultConfig.hero_title],
          ["hero_subtitle", config.hero_subtitle || defaultConfig.hero_subtitle],
          ["cta_button", config.cta_button || defaultConfig.cta_button]
        ])
      });
    }

    // ===============================
    // RENDERIZAR DISCIPLINAS
    // ===============================
    function renderDisciplines() {
      const grid = document.getElementById('disciplines-grid');
      grid.innerHTML = '';
      
      disciplinas.forEach(disc => {
        if (currentFilter !== 'todos' && !disc.niveis.includes(currentFilter)) {
          return;
        }
        
        const card = document.createElement('div');
        card.className = 'discipline-card';
        card.onclick = () => selectDiscipline(disc.id);
        
        card.innerHTML = `
          <div class="discipline-icon">${disc.icon}</div>
          <h3>${disc.nome}</h3>
          <p>${disc.descricao}</p>
          <div class="level-badges">
            ${disc.niveis.includes('facil') ? '<span class="badge badge-facil">F√°cil</span>' : ''}
            ${disc.niveis.includes('medio') ? '<span class="badge badge-medio">M√©dio</span>' : ''}
            ${disc.niveis.includes('dificil') ? '<span class="badge badge-dificil">Dif√≠cil</span>' : ''}
          </div>
        `;
        
        grid.appendChild(card);
      });
    }

    // ===============================
    // FILTRO DE N√çVEL
    // ===============================
    function filterByLevel(level) {
      currentFilter = level;
      
      document.querySelectorAll('.filter-btn').forEach(btn => {
        btn.classList.remove('active');
      });
      
      event.target.classList.add('active');
      renderDisciplines();
    }

    // ===============================
    // SELECIONAR DISCIPLINA
    // ===============================
    function selectDiscipline(disciplinaId) {
      const disciplina = disciplinas.find(d => d.id === disciplinaId);
      if (!disciplina) return;
      
      // Mostrar op√ß√µes de n√≠vel
      const nivelEscolhido = prompt(`Escolha o n√≠vel para ${disciplina.nome}:\n1 - F√°cil\n2 - M√©dio\n3 - Dif√≠cil`);
      
      let nivel;
      if (nivelEscolhido === '1') nivel = 'facil';
      else if (nivelEscolhido === '2') nivel = 'medio';
      else if (nivelEscolhido === '3') nivel = 'dificil';
      else return;
      
      startQuiz(disciplinaId, nivel);
    }

    // ===============================
    // INICIAR QUIZ
    // ===============================
    function startQuiz(disciplinaId, nivel) {
      const disciplina = disciplinas.find(d => d.id === disciplinaId);
      const questoes = questoesPorDisciplina[disciplinaId]?.[nivel];
      
      if (!questoes || questoes.length === 0) {
        showMessage('Desculpe, n√£o h√° quest√µes dispon√≠veis para esta disciplina e n√≠vel.');
        return;
      }
      
      currentQuiz = {
        disciplina: disciplina.nome,
        disciplinaId,
        nivel,
        questoes: [...questoes].sort(() => Math.random() - 0.5).slice(0, 10)
      };
      
      currentQuestionIndex = 0;
      score = 0;
      quizStartTime = Date.now();
      
      document.getElementById('modal-title').textContent = `${disciplina.nome} - N√≠vel ${nivel.charAt(0).toUpperCase() + nivel.slice(1)}`;
      document.getElementById('quiz-modal').classList.add('active');
      document.getElementById('question-container').style.display = 'block';
      document.getElementById('results-container').classList.remove('show');
      
      startTimer();
      loadQuestion();
    }

    // ===============================
    // CARREGAR QUEST√ÉO
    // ===============================
    function loadQuestion() {
      if (currentQuestionIndex >= currentQuiz.questoes.length) {
        showResults();
        return;
      }
      
      const questao = currentQuiz.questoes[currentQuestionIndex];
      selectedAnswer = null;
      
      document.getElementById('question-counter').textContent = `Quest√£o ${currentQuestionIndex + 1} de ${currentQuiz.questoes.length}`;
      document.getElementById('progress-fill').style.width = `${((currentQuestionIndex + 1) / currentQuiz.questoes.length) * 100}%`;
      document.getElementById('question-text').textContent = questao.pergunta;
      
      const container = document.getElementById('options-container');
      container.innerHTML = '';
      
      questao.opcoes.forEach((opcao, index) => {
        const btn = document.createElement('button');
        btn.className = 'option-btn';
        btn.textContent = opcao;
        btn.onclick = () => selectAnswer(index);
        container.appendChild(btn);
      });
      
      document.getElementById('feedback').classList.remove('show', 'correct', 'incorrect');
      document.getElementById('next-btn').disabled = true;
    }

    // ===============================
    // SELECIONAR RESPOSTA
    // ===============================
    function selectAnswer(index) {
      if (selectedAnswer !== null) return;
      
      selectedAnswer = index;
      const questao = currentQuiz.questoes[currentQuestionIndex];
      const correct = index === questao.correta;
      
      if (correct) score++;
      
      const buttons = document.querySelectorAll('.option-btn');
      buttons.forEach((btn, i) => {
        btn.disabled = true;
        if (i === questao.correta) {
          btn.classList.add('correct');
        } else if (i === index && !correct) {
          btn.classList.add('incorrect');
        }
      });
      
      const feedback = document.getElementById('feedback');
      feedback.className = 'feedback-container show ' + (correct ? 'correct' : 'incorrect');
      feedback.innerHTML = `
        <strong>${correct ? '‚úì Correto!' : '‚úó Incorreto'}</strong><br>
        ${questao.explicacao}
      `;
      
      document.getElementById('next-btn').disabled = false;
    }

    // ===============================
    // PR√ìXIMA QUEST√ÉO
    // ===============================
    function nextQuestion() {
      currentQuestionIndex++;
      loadQuestion();
    }

    // ===============================
    // MOSTRAR RESULTADOS
    // ===============================
    async function showResults() {
      stopTimer();
      
      const tempoGasto = Math.floor((Date.now() - quizStartTime) / 1000);
      const totalQuestoes = currentQuiz.questoes.length;
      const percentual = Math.round((score / totalQuestoes) * 100);
      
      document.getElementById('question-container').style.display = 'none';
      document.getElementById('results-container').classList.add('show');
      
      document.getElementById('final-score').textContent = percentual;
      
      let mensagem;
      if (percentual >= 80) mensagem = 'üéâ Excelente! Voc√™ domina o assunto!';
      else if (percentual >= 60) mensagem = 'üëè Bom trabalho! Continue praticando!';
      else if (percentual >= 40) mensagem = 'üí™ Voc√™ est√° no caminho certo!';
      else mensagem = 'üìö Continue estudando! Voc√™ vai melhorar!';
      
      document.getElementById('results-message').textContent = mensagem;
      document.getElementById('results-details').textContent = `Voc√™ acertou ${score} de ${totalQuestoes} quest√µes em ${formatTime(tempoGasto)}`;
      
      // Salvar resultado
      if (window.dataSdk && allResults.length < 999) {
        const loadingSpinner = document.getElementById('loading-spinner');
        loadingSpinner.classList.add('show');
        
        const resultado = {
          userId: 'user_' + Date.now(),
          disciplina: currentQuiz.disciplinaId,
          nivel: currentQuiz.nivel,
          pontuacao: percentual,
          totalQuestoes: totalQuestoes,
          acertos: score,
          dataRealizacao: new Date().toISOString(),
          tempoGasto: tempoGasto
        };
        
        const saveResult = await window.dataSdk.create(resultado);
        loadingSpinner.classList.remove('show');
        
        if (!saveResult.isOk) {
          showMessage('Erro ao salvar resultado. Tente novamente.');
        }
      } else if (allResults.length >= 999) {
        showMessage('Limite de 999 resultados atingido. Por favor, limpe alguns resultados antigos.');
      }
    }

    // ===============================
    // REINICIAR QUIZ
    // ===============================
    function restartQuiz() {
      startQuiz(currentQuiz.disciplinaId, currentQuiz.nivel);
    }

    // ===============================
    // FECHAR QUIZ
    // ===============================
    function closeQuiz() {
      document.getElementById('quiz-modal').classList.remove('active');
      stopTimer();
      currentQuiz = null;
    }

    // ===============================
    // TIMER
    // ===============================
    function startTimer() {
      timerInterval = setInterval(() => {
        const elapsed = Math.floor((Date.now() - quizStartTime) / 1000);
        document.getElementById('timer').textContent = `‚è±Ô∏è ${formatTime(elapsed)}`;
      }, 1000);
    }

    function stopTimer() {
      if (timerInterval) {
        clearInterval(timerInterval);
        timerInterval = null;
      }
    }

    function formatTime(seconds) {
      const mins = Math.floor(seconds / 60);
      const secs = seconds % 60;
      return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
    }

    // ===============================
    // ESTAT√çSTICAS
    // ===============================
    function showStats() {
      updateStatsDisplay();
      document.getElementById('stats-modal').classList.add('active');
    }

    function closeStats() {
      document.getElementById('stats-modal').classList.remove('active');
    }

    function updateStatsDisplay() {
      const statsGrid = document.getElementById('stats-grid');
      const historyList = document.getElementById('history-list');
      
      const totalQuizzes = allResults.length;
      const mediaGeral = totalQuizzes > 0 ? Math.round(allResults.reduce((sum, r) => sum + r.pontuacao, 0) / totalQuizzes) : 0;
      const melhorScore = totalQuizzes > 0 ? Math.max(...allResults.map(r => r.pontuacao)) : 0;
      
      statsGrid.innerHTML = `
        <div class="stat-card">
          <div class="stat-value">${totalQuizzes}</div>
          <div class="stat-label">Quizzes Realizados</div>
        </div>
        <div class="stat-card">
          <div class="stat-value">${mediaGeral}%</div>
          <div class="stat-label">M√©dia Geral</div>
        </div>
        <div class="stat-card">
          <div class="stat-value">${melhorScore}%</div>
          <div class="stat-label">Melhor Pontua√ß√£o</div>
        </div>
      `;
      
      if (totalQuizzes === 0) {
        historyList.innerHTML = `
          <div class="empty-state">
            <i class="bi bi-inbox"></i>
            <p>Nenhum quiz realizado ainda.<br>Comece agora e acompanhe seu progresso!</p>
          </div>
        `;
      } else {
        const sortedResults = [...allResults].sort((a, b) => new Date(b.dataRealizacao) - new Date(a.dataRealizacao));
        
        historyList.innerHTML = sortedResults.map(result => {
          const disc = disciplinas.find(d => d.id === result.disciplina);
          const data = new Date(result.dataRealizacao).toLocaleDateString('pt-BR');
          
          return `
            <div class="history-item">
              <div class="history-info">
                <div class="history-discipline">${disc ? disc.nome : result.disciplina} - ${result.nivel}</div>
                <div class="history-details">${data} ‚Ä¢ ${result.acertos}/${result.totalQuestoes} acertos ‚Ä¢ ${formatTime(result.tempoGasto)}</div>
              </div>
              <div class="history-score">${result.pontuacao}%</div>
            </div>
          `;
        }).join('');
      }
    }

    // ===============================
    // UTILIDADES
    // ===============================
    function scrollToQuizzes() {
      document.getElementById('quizzes-section').scrollIntoView({ behavior: 'smooth' });
    }

    function showMessage(msg) {
      const modal = document.createElement('div');
      modal.style.cssText = 'position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:white;padding:2rem;border-radius:16px;box-shadow:0 25px 50px -12px rgba(0,0,0,0.5);z-index:300;max-width:400px;text-align:center;';
      modal.innerHTML = `
        <p style="margin-bottom:1.5rem;font-weight:600;color:#1f2937;">${msg}</p>
        <button onclick="this.parentElement.remove()" style="background:#667eea;color:white;border:none;padding:0.75rem 2rem;border-radius:8px;font-weight:700;cursor:pointer;">OK</button>
      `;
      document.body.appendChild(modal);
    }

    // ===============================
    // INICIALIZA√á√ÉO
    // ===============================
    window.addEventListener('DOMContentLoaded', () => {
      renderDisciplines();
      initDataSdk();
    });
  </script>
</html>